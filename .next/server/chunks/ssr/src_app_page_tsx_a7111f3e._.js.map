{"version":3,"sources":["../../../../src/app/page.tsx"],"sourcesContent":["'use client';\n\nimport { useState, useEffect, useCallback } from 'react';\nimport { useTheme } from '../components/theme-provider';\nimport { useUser } from '../components/user-context';\n\ninterface Tile {\n  id: number;\n  value: number;\n  row: number;\n  col: number;\n  isNew: boolean;\n  isMerged: boolean;\n}\n\ntype Grid = (Tile | null)[][];\n\nexport default function Home() {\n  const { theme } = useTheme();\n  const { user, updateGameStats } = useUser();\n  const [grid, setGrid] = useState<Grid>([]);\n  const [score, setScore] = useState(0);\n  const [bestScore, setBestScore] = useState(0);\n  const [gameOver, setGameOver] = useState(false);\n  const [showNameModal, setShowNameModal] = useState(false);\n  const [playerName, setPlayerName] = useState('');\n  const [history, setHistory] = useState<Grid[]>([]);\n  const [difficulty, setDifficulty] = useState<'easy' | 'hard'>('easy');\n\n  const initGame = useCallback(() => {\n    const newGrid: Grid = Array(4).fill(null).map(() => Array(4).fill(null));\n    addRandomTile(newGrid);\n    addRandomTile(newGrid);\n    setGrid(newGrid);\n    setScore(0);\n    setGameOver(false);\n    setHistory([]);\n  }, []);\n\n  useEffect(() => {\n    initGame();\n  }, [initGame]);\n\n  const addRandomTile = (currentGrid: Grid) => {\n    const emptyCells: { row: number; col: number }[] = [];\n    for (let r = 0; r < 4; r++) {\n      for (let c = 0; c < 4; c++) {\n        if (!currentGrid[r][c]) emptyCells.push({ row: r, col: c });\n      }\n    }\n    if (emptyCells.length === 0) return;\n    const { row, col } = emptyCells[Math.floor(Math.random() * emptyCells.length)];\n    const value = difficulty === 'easy' ? (Math.random() < 0.9 ? 2 : 4) : (Math.random() < 0.5 ? 2 : Math.random() < 0.8 ? 4 : 8);\n    currentGrid[row][col] = { id: Date.now() + Math.random(), value, row, col, isNew: true, isMerged: false };\n  };\n\n  const cloneGrid = (g: Grid): Grid => {\n    return g.map(row => row.map(cell => cell ? { ...cell } : null));\n  };\n\n  const saveState = () => {\n    setHistory(prev => [...prev, cloneGrid(grid)]);\n  };\n\n  const undo = () => {\n    if (history.length === 0) return;\n    const previousGrid = history[history.length - 1];\n    setGrid(cloneGrid(previousGrid));\n    setHistory(prev => prev.slice(0, -1));\n  };\n\n  const move = (direction: 'left' | 'right' | 'up' | 'down') => {\n    if (gameOver) return;\n    \n    saveState();\n    let newGrid = cloneGrid(grid);\n    let moved = false;\n    let newScore = score;\n\n    const rotateGrid = (g: Grid): Grid => {\n      return g[0].map((_, i) => g.map((row) => row[i]).reverse());\n    };\n\n    const slide = (row: (Tile | null)[]): (Tile | null)[] => {\n      let arr = row.filter((c) => c !== null) as Tile[];\n      for (let i = 0; i < arr.length - 1; i++) {\n        if (arr[i].value === arr[i + 1].value) {\n          arr[i].value *= 2;\n          arr[i].isMerged = true;\n          newScore += arr[i].value;\n          arr.splice(i + 1, 1);\n        }\n      }\n      while (arr.length < 4) arr.push(null as unknown as Tile);\n      return arr;\n    };\n\n    if (direction === 'right') newGrid = newGrid.map(row => slide([...row].reverse()).reverse() as (Tile | null)[]);\n    else if (direction === 'left') newGrid = newGrid.map(row => slide([...row]) as (Tile | null)[]);\n    else if (direction === 'up') {\n      newGrid = rotateGrid(newGrid);\n      newGrid = newGrid.map(row => slide([...row]) as (Tile | null)[]);\n      newGrid = rotateGrid(rotateGrid(rotateGrid(newGrid)));\n    } else if (direction === 'down') {\n      newGrid = rotateGrid(rotateGrid(rotateGrid(newGrid)));\n      newGrid = newGrid.map(row => slide([...row]) as (Tile | null)[]);\n      newGrid = rotateGrid(newGrid);\n    }\n\n    const oldStr = JSON.stringify(grid);\n    const newStr = JSON.stringify(newGrid);\n    if (oldStr !== newStr) moved = true;\n\n    if (moved) {\n      addRandomTile(newGrid);\n      setGrid(newGrid);\n      setScore(newScore);\n      if (newScore > bestScore) setBestScore(newScore);\n      \n      if (isGameOver(newGrid)) {\n        setGameOver(true);\n        if (user) updateGameStats(newScore);\n      }\n    } else {\n      setHistory(prev => prev.slice(0, -1));\n    }\n  };\n\n  const isGameOver = (currentGrid: Grid): boolean => {\n    for (let r = 0; r < 4; r++) {\n      for (let c = 0; c < 4; c++) {\n        if (!currentGrid[r][c]) return false;\n      }\n    }\n    for (let r = 0; r < 4; r++) {\n      for (let c = 0; c < 4; c++) {\n        const val = currentGrid[r][c]!.value;\n        if (r < 3 && currentGrid[r + 1][c]!.value === val) return false;\n        if (c < 3 && currentGrid[r][c + 1]!.value === val) return false;\n      }\n    }\n    return true;\n  };\n\n  const handleKeyDown = useCallback(\n    (e: KeyboardEvent) => {\n      if (showNameModal) return;\n      if (e.key === 'ArrowLeft') move('left');\n      else if (e.key === 'ArrowRight') move('right');\n      else if (e.key === 'ArrowUp') move('up');\n      else if (e.key === 'ArrowDown') move('down');\n    },\n    [grid, gameOver, showNameModal]\n  );\n\n  useEffect(() => {\n    window.addEventListener('keydown', handleKeyDown);\n    return () => window.removeEventListener('keydown', handleKeyDown);\n  }, [handleKeyDown]);\n\n  // Touch handling for mobile\n  const [touchStart, setTouchStart] = useState<{ x: number; y: number } | null>(null);\n  \n  const handleTouchStart = (e: React.TouchEvent) => {\n    setTouchStart({\n      x: e.touches[0].clientX,\n      y: e.touches[0].clientY,\n    });\n  };\n\n  const handleTouchEnd = (e: React.TouchEvent) => {\n    if (!touchStart || showNameModal || gameOver) return;\n    \n    const touchEnd = {\n      x: e.changedTouches[0].clientX,\n      y: e.changedTouches[0].clientY,\n    };\n    \n    const dx = touchEnd.x - touchStart.x;\n    const dy = touchEnd.y - touchStart.y;\n    const minSwipeDistance = 50;\n    \n    if (Math.abs(dx) > Math.abs(dy)) {\n      if (Math.abs(dx) > minSwipeDistance) {\n        // Inverted X: swipe left moves right, swipe right moves left\n        move(dx > 0 ? 'left' : 'right');\n      }\n    } else {\n      if (Math.abs(dy) > minSwipeDistance) {\n        // Inverted Y: swipe up moves down, swipe down moves up\n        move(dy < 0 ? 'down' : 'up');\n      }\n    }\n    \n    setTouchStart(null);\n  };\n\n  const startNewGame = () => {\n    setShowNameModal(true);\n  };\n\n  const handleStartGame = () => {\n    setShowNameModal(false);\n    initGame();\n  };\n\n  const getTileColor = (value: number) => {\n    const colors: Record<number, string> = {\n      2: 'var(--tile-2)',\n      4: 'var(--tile-4)',\n      8: 'var(--tile-8)',\n      16: 'var(--tile-16)',\n      32: 'var(--tile-32)',\n      64: 'var(--tile-64)',\n      128: 'var(--tile-128)',\n      256: 'var(--tile-256)',\n      512: 'var(--tile-512)',\n      1024: 'var(--tile-1024)',\n      2048: 'var(--tile-2048)',\n      4096: 'var(--tile-4096)',\n    };\n    return colors[value] || '#3c3a32';\n  };\n\n  const getTextColor = (value: number) => {\n    return value <= 4 ? '#776e65' : '#f9f6f2';\n  };\n\n  return (\n    <div \n      style={{\n        display: 'flex',\n        flexDirection: 'column',\n        alignItems: 'center',\n        justifyContent: 'center',\n        minHeight: '100vh',\n        height: '100vh',\n        padding: '10px',\n        backgroundColor: theme.colors.background,\n        color: theme.colors.textColor,\n        transition: 'background-color 0.3s, color 0.3s',\n        overflow: 'hidden',\n        boxSizing: 'border-box',\n      }}\n    >\n      <div style={{\n        display: 'flex',\n        justifyContent: 'center',\n        alignItems: 'center',\n        width: '100%',\n        maxWidth: '360px',\n        marginBottom: '10px',\n      }}>\n        <h1 style={{\n          fontSize: '42px',\n          fontWeight: 'bold',\n          color: theme.colors.textColor,\n          margin: 0,\n        }}>4096</h1>\n      </div>\n\n      <div style={{\n        display: 'flex',\n        gap: '8px',\n        marginBottom: '10px',\n      }}>\n        <div style={{\n          backgroundColor: theme.colors.tileBorder,\n          padding: '8px 16px',\n          borderRadius: '6px',\n          textAlign: 'center',\n          minWidth: '70px',\n        }}>\n          <div style={{ fontSize: '11px', color: '#eee4da' }}>SCORE</div>\n          <div style={{ fontSize: '18px', fontWeight: 'bold', color: '#fff' }}>{score}</div>\n        </div>\n        <div style={{\n          backgroundColor: theme.colors.tileBorder,\n          padding: '8px 16px',\n          borderRadius: '6px',\n          textAlign: 'center',\n          minWidth: '70px',\n        }}>\n          <div style={{ fontSize: '11px', color: '#eee4da' }}>BEST</div>\n          <div style={{ fontSize: '18px', fontWeight: 'bold', color: '#fff' }}>{bestScore}</div>\n        </div>\n      </div>\n\n      <div style={{ \n        display: 'flex', \n        gap: '8px', \n        marginBottom: '10px',\n      }}>\n        <button\n          onClick={() => setDifficulty(difficulty === 'easy' ? 'hard' : 'easy')}\n          style={{\n            padding: '6px 12px',\n            backgroundColor: theme.colors.tileBackground,\n            color: theme.colors.textColor,\n            borderRadius: '6px',\n            fontSize: '13px',\n            border: 'none',\n          }}\n        >\n          {difficulty === 'easy' ? 'Easy' : 'Hard'}\n        </button>\n        <button\n          onClick={undo}\n          disabled={history.length === 0}\n          style={{\n            padding: '6px 12px',\n            backgroundColor: theme.colors.tileBackground,\n            color: theme.colors.textColor,\n            borderRadius: '6px',\n            fontSize: '13px',\n            border: 'none',\n            opacity: history.length === 0 ? 0.5 : 1,\n          }}\n        >\n          â†© Undo\n        </button>\n        <button\n          onClick={startNewGame}\n          style={{\n            padding: '6px 12px',\n            backgroundColor: theme.colors.textColor,\n            color: '#fff',\n            borderRadius: '6px',\n            fontSize: '13px',\n            border: 'none',\n          }}\n        >\n          New Game\n        </button>\n      </div>\n\n      <div \n        onTouchStart={handleTouchStart}\n        onTouchEnd={handleTouchEnd}\n        style={{\n          backgroundColor: theme.colors.tileBorder,\n          padding: '8px',\n          borderRadius: '6px',\n          display: 'grid',\n          gridTemplateColumns: 'repeat(4, 1fr)',\n          gridTemplateRows: 'repeat(4, 1fr)',\n          gap: '8px',\n          width: 'min(85vw, 340px)',\n          height: 'min(85vw, 340px)',\n          maxWidth: '340px',\n          maxHeight: '340px',\n          touchAction: 'none',\n          userSelect: 'none',\n          WebkitUserSelect: 'none',\n        }}\n      >\n        {grid.map((row, rowIndex) =>\n          row.map((tile, colIndex) => (\n            <div\n              key={`${rowIndex}-${colIndex}`}\n              style={{\n                backgroundColor: tile ? getTileColor(tile.value) : theme.colors.tileBackground,\n                borderRadius: '4px',\n                display: 'flex',\n                alignItems: 'center',\n                justifyContent: 'center',\n                fontSize: tile && tile.value > 100 ? 'min(5vw, 22px)' : 'min(7vw, 28px)',\n                fontWeight: 'bold',\n                color: tile ? getTextColor(tile.value) : 'transparent',\n                transition: 'all 0.15s ease-in-out',\n                aspectRatio: '1',\n                width: '100%',\n                height: '100%',\n              }}\n            >\n              {tile?.value}\n            </div>\n          ))\n        )}\n      </div>\n\n      {gameOver && (\n        <div\n          style={{\n            position: 'fixed',\n            top: 0,\n            left: 0,\n            right: 0,\n            bottom: 0,\n            backgroundColor: 'rgba(0,0,0,0.8)',\n            display: 'flex',\n            alignItems: 'center',\n            justifyContent: 'center',\n            flexDirection: 'column',\n            zIndex: 100,\n          }}\n        >\n          <h2 style={{ color: '#fff', fontSize: '36px', marginBottom: '15px' }}>Game Over!</h2>\n          <p style={{ color: '#fff', fontSize: '20px', marginBottom: '20px' }}>Score: {score}</p>\n          <button\n            onClick={initGame}\n            style={{\n              padding: '12px 24px',\n              backgroundColor: theme.colors.textColor,\n              color: '#fff',\n              borderRadius: '6px',\n              fontSize: '16px',\n              border: 'none',\n            }}\n          >\n            Play Again\n          </button>\n        </div>\n      )}\n\n      {showNameModal && (\n        <div\n          style={{\n            position: 'fixed',\n            top: 0,\n            left: 0,\n            right: 0,\n            bottom: 0,\n            backgroundColor: 'rgba(0,0,0,0.8)',\n            display: 'flex',\n            alignItems: 'center',\n            justifyContent: 'center',\n            flexDirection: 'column',\n            zIndex: 100,\n          }}\n        >\n          <div\n            style={{\n              backgroundColor: theme.colors.background,\n              padding: '25px',\n              borderRadius: '8px',\n              textAlign: 'center',\n              maxWidth: '300px',\n              width: '90%',\n            }}\n          >\n            <h2 style={{ marginBottom: '15px', color: theme.colors.textColor, fontSize: '24px' }}>Enter Your Name</h2>\n            <input\n              type=\"text\"\n              value={playerName}\n              onChange={(e) => setPlayerName(e.target.value)}\n              placeholder=\"Your name\"\n              style={{\n                padding: '10px',\n                fontSize: '16px',\n                borderRadius: '6px',\n                border: `1px solid ${theme.colors.tileBorder}`,\n                marginBottom: '15px',\n                width: '100%',\n                textAlign: 'center',\n                backgroundColor: theme.colors.tileBackground,\n                color: theme.colors.textColor,\n              }}\n              onKeyDown={(e) => e.key === 'Enter' && handleStartGame()}\n            />\n            <button\n              onClick={handleStartGame}\n              style={{\n                padding: '10px 24px',\n                backgroundColor: theme.colors.textColor,\n                color: '#fff',\n                borderRadius: '6px',\n                fontSize: '16px',\n                border: 'none',\n                width: '100%',\n              }}\n            >\n              Start Game\n            </button>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}